<!DOCTYPE html><html lang="en">
<!-- Mirrored from bitcore.io/api/bus by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 22 Dec 2018 16:43:05 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1"><title>Event Bus | Bitcore</title><meta name="description" content="An event emitter for Bitcore node events."><!-- Twitter Card data--><meta name="twitter:card" content="summary"><meta name="twitter:site" content="@BitPay"><meta name="twitter:title" content="Event Bus"><meta name="twitter:description" content="An event emitter for Bitcore node events."><meta name="twitter:image" content="../images/social/card.jpg"><!-- Open Graph data (Facebook and Reddit)--><meta property="og:title" content="Event Bus"><meta property="og:type" content="article"><meta property="og:url" content="../index.html"><meta property="og:image" content="../images/social/avatar.jpg"><meta property="og:description" content="An event emitter for Bitcore node events."><meta property="og:site_name" content="Bitcore.io"><!-- Add to homescreen for Chrome on Android--><meta name="mobile-web-app-capable" content="yes"><link rel="icon" sizes="192x192" href="../images/touch/chrome-touch-icon-192x192.b0c7306c.png"><!-- Add to homescreen for Safari on iOS--><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black"><meta name="apple-mobile-web-app-title" content="Bitcore"><link rel="apple-touch-icon-precomposed" href="apple-touch-icon-precomposed.html"><!-- Tile icon for Win8 (144x144 + tile color)--><meta name="msapplication-TileImage" content="../images/touch/ms-touch-icon-144x144-precomposed.dcbb3eea.png"><meta name="msapplication-TileColor" content="#F9AB3D"><!-- Favicon--><link rel="shortcut icon" href="../favicon.ico"><link rel="stylesheet" href="../styles/main.88c254de.css" data-instant-track><link href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:400,300,300italic,400italic,600,700,700italic,600italic|Titillium+Web:400,300,700" rel="stylesheet" type="text/css"><script type="text/javascript" data-no-instant>
  !function(){var analytics=window.analytics=window.analytics||[];if(!analytics.initialize)if(analytics.invoked)window.console&&console.error&&console.error("Segment snippet included twice.");else{analytics.invoked=!0;analytics.methods=["trackSubmit","trackClick","trackLink","trackForm","pageview","identify","group","track","ready","alias","page","once","off","on"];analytics.factory=function(t){return function(){var e=Array.prototype.slice.call(arguments);e.unshift(t);analytics.push(e);return analytics}};for(var t=0;t<analytics.methods.length;t++){var e=analytics.methods[t];analytics[e]=analytics.factory(e)}analytics.load=function(t){var e=document.createElement("script");e.type="text/javascript";e.async=!0;e.src=("https:"===document.location.protocol?"https://":"http://")+"cdn.segment.com/analytics.js/v1/"+t+"/analytics.min.js";var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(e,n)};analytics.SNIPPET_VERSION="3.0.1";
  if(this.location.host === 'bitcore.io'){ analytics.load('hP7mqqPCPPa5hRatDaulKFxm0kPiB6Es'); }
  else { analytics.load("dgbXyNcmHR3bJIjumdYoe3GZFrs6sHBd"); }
  }}();
</script>
<script data-no-instant>
  var $buoop = {vs:{i:9,f:30,o:25,s:5.1},c:2};
  function $buo_f(){
   var e = document.createElement("script");
   e.src = "../../browser-update.org/update.js";
   document.body.appendChild(e);
  };
  try {document.addEventListener("DOMContentLoaded", $buo_f,false)}
  catch(e){window.attachEvent("onload", $buo_f)}
</script>
<meta name="google-site-verification" content="GOfbzCpKO__Imdru-L0nG1Fo9tTvyH3QVAIWsYO9rCk"></head><body><nav class="navbar navbar-fixed-top dark-nav hidden-sm-down"><a href="../index.html" title="Home" class="logo logo-light margin-top"></a><ul class="nav navbar-nav pull-right"><li class="nav-item"><a href="../start.html" class="nav-link">Getting Started</a></li><li class="nav-item"><a href="../guides/index.html" class="nav-link">Guides</a></li><li class="nav-item"><a href="index.html" class="nav-link active">Docs</a></li><li class="nav-item"><a href="../playground/index.html" class="nav-link">Playground        </a></li><li class="nav-item"><a href="http://forum.bitcore.io/" class="nav-link">Forum</a></li></ul></nav><div class="mobile-menu hidden-md-up navbar-fixed-top"><div id="exCollapsingNavbar" class="collapse"><div class="bg-inverse p-md"><h3 class="m-b-0"> <ul class="p-l-0 no-bullets m-b-0"><li class="nav-item"><a href="../index.html" class="nav-link">Home</a></li><li class="nav-item"><a href="../start.html" class="nav-link">Getting Started</a></li><li class="nav-item"><a href="../guides/index.html" class="nav-link">Guides</a></li><li class="nav-item"><a href="index.html" class="nav-link active">Docs</a></li><li class="nav-item"><a href="../playground/index.html" class="nav-link">Playground        </a></li><li class="nav-item"><a href="http://forum.bitcore.io/" class="nav-link">Forum</a></li></ul></h3></div></div><nav class="navbar dark-nav"><button type="button" data-toggle="collapse" data-target="#exCollapsingNavbar" class="navbar-toggler p-l-0"><div class="logo logo-square-orange menu-text color-white">Menu</div></button></nav></div><div class="fixed-sidebar bg-gray border-right-grey p-l-md"><a href="index.html"><h3 class="menu-header m-t-md">Bitcore</h3><ul class="nav nav-pills nav-stacked"><li class="nav-item"><a href="index.html" class="nav-link">Overview</a></li></ul></a><h3 class="menu-header m-t-md">Node</h3><ul class="nav nav-pills nav-stacked"><li class="nav-item"><a href="node.html" class="nav-link">Get Started</a></li><li class="nav-item"><a href="node-constructor.html" class="nav-link">Node Constructor</a></li><li class="nav-item"><a href="bus.html" class="active nav-link">Event Bus</a></li><li class="nav-item"><a href="development.html" class="nav-link">Development</a></li><li class="nav-item"><a href="upgrade.html" class="nav-link">Upgrade</a></li></ul><a href="service/index.html"><h3 class="menu-header m-t-md">Services</h3></a><a href="lib/index.html"><h3 class="menu-header m-t-md">Library API</h3></a><a href="mnemonic/index.html"><h3 class="menu-header m-t-md">Library Modules</h3></a><a href="p2p/index.html"><h3 class="menu-header m-t-md">Peer-to-Peer</h3></a></div><div class="scroll-content"><div class="api-content"><div class="docs bg-white"><div class="container"><div class="section p-t-lg"><div class="text-right bring-to-front"><a href="https://github.com/bitpay/bitcore-node/edit/master/docs/bus.md">Edit</a></div><h1 id="bus">Bus</h1>
<p>The bus provides a way to subscribe to events from any of the services running. It&#39;s implemented abstract from transport specific implementation. The primary use of the bus in Bitcore Node is for subscribing to events via a web socket.</p>
<h2 id="opening-closing">Opening/Closing</h2>
<pre><code class="lang-javascript">
// a node is needed to be able to open a bus
var node = new Node(configuration);

// will create a new bus that is ready to subscribe to events
var bus = node.openBus();

// will remove all event listeners
bus.close();
</code></pre>
<h2 id="subscribing-unsubscribing">Subscribing/Unsubscribing</h2>
<pre><code class="lang-javascript">
// subscribe to all transaction events
bus.subscribe(&#39;bitcoind/rawtransaction&#39;);

// to subscribe to new block hashes
bus.subscribe(&#39;bitcoind/hashblock&#39;);

// unsubscribe
bus.unsubscribe(&#39;bitcoind/rawtransaction&#39;);
</code></pre>
</div></div></div><div class="lib bg-dark"><div class="container"><div class="section p-t-lg"><div class="text-right bring-to-front"><a href="../../github.com/bitpay/bitcore-node/blob/master/lib/bus.html">View Source</a></div><p><a name="Bus"></a></p>
<h2 id="bus-params-">Bus(params)</h2>
<p>The bus represents a connection to node, decoupled from the transport layer, that can
listen and subscribe to any events that are exposed by available services. Services
can expose events that can be subscribed to by implementing a <code>getPublishEvents</code> method.</p>
<p><strong>Kind</strong>: global function  </p>
<table>
<thead>
<tr>
<th>Param</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>params</td>
<td><code>Object</code></td>
<td></td>
</tr>
<tr>
<td>params.node</td>
<td><code>Node</code></td>
<td>A reference to the node</td>
</tr>
</tbody>
</table>
<ul>
<li><a href="#Bus">Bus(params)</a><ul>
<li><a href="#Bus+subscribe">.subscribe(name)</a></li>
<li><a href="#Bus+unsubscribe">.unsubscribe(name)</a></li>
<li><a href="#Bus+close">.close()</a></li>
</ul>
</li>
</ul>
<p><a name="Bus+subscribe"></a></p>
<h3 id="bus-subscribe-name-">bus.subscribe(name)</h3>
<p>This function will find the service that exposes the event by name and
call the associated subscribe method with the arguments excluding the
first argument of this function.</p>
<p><strong>Kind</strong>: instance method of <code><a href="#Bus">Bus</a></code>  </p>
<table>
<thead>
<tr>
<th>Param</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>name</td>
<td><code>String</code></td>
<td>The name of the event</td>
</tr>
</tbody>
</table>
<p><a name="Bus+unsubscribe"></a></p>
<h3 id="bus-unsubscribe-name-">bus.unsubscribe(name)</h3>
<p>The inverse of the subscribe method.</p>
<p><strong>Kind</strong>: instance method of <code><a href="#Bus">Bus</a></code>  </p>
<table>
<thead>
<tr>
<th>Param</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>name</td>
<td><code>String</code></td>
<td>The name of the event</td>
</tr>
</tbody>
</table>
<p><a name="Bus+close"></a></p>
<h3 id="bus-close-">bus.close()</h3>
<p>This function will unsubscribe all events.</p>
<p><strong>Kind</strong>: instance method of <code><a href="#Bus">Bus</a></code>  </p>
</div></div></div></div></div><a class="exit-off-canvas"></a><script src="../scripts/main.min.efe3021b.js" data-no-instant="data-no-instant"></script></body>
<!-- Mirrored from bitcore.io/api/bus by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 22 Dec 2018 16:43:06 GMT -->
</html>